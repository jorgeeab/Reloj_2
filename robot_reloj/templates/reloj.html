{% extends "base.html" %}

{% block title %}Reloj Labs — Cabina Única{% endblock %}

{% block brand_name %}Reloj Labs{% endblock %}
{% block brand_subtitle %}Cabina Única{% endblock %}

{% block main_content %}
<!-- Visualización PyBullet -->
<div class="card">
  <h2>Visualización PyBullet</h2>
  {% include 'widgets/pybullet_viewer.html' %}
</div>

<!-- Operación + Telemetría -->
<div class="card control-board" style="position:relative">
  <div id="op_overlay" class="overlay-block" hidden>
    <div class="overlay-content">
      <span id="overlay_msg">Ejecución en curso…</span>
      <button id="btn_overlay_reconnect" style="margin-left:8px; display:none">Reconectar</button>
    </div>
  </div>
  <h2>Operación + Telemetría</h2>

  <!-- Grid de widgets de operación -->
  <div class="grid two" style="gap:10px">
    {% include 'widgets/corredera_operacion.html' %}
    {% include 'widgets/angulo_operacion.html' %}
    {% include 'widgets/bomba_operacion.html' %}
    {% include 'widgets/z_control.html' %}
    {% include 'widgets/energies.html' %}
    {% include 'widgets/acciones_rapidas.html' %}
    {% include 'widgets/protocol_runner.html' %}
  </div>
</div>
{% endblock %}

{% block widget_settings %}
{# Widget configuration for Reloj #}
{% include 'widgets/corredera_config.html' %}
{% include 'widgets/angulo_config.html' %}
{% include 'widgets/bomba_config.html' %}
{% endblock %}

{% block footer_text %}Atajos: (M) manual/auto • (H) homing X/A • (V) reset volumen{% endblock %}